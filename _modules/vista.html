<!DOCTYPE html>

<html lang="es" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>vista &#8212; documentación de App Relevamiento Barrial - 0.1</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8e8a900e" />
      <link rel="stylesheet" type="text/css" href="../_static/css/pdj.css?v=12f78f94" />

<link rel="stylesheet" href="../_static/css/darker.css" type="text/css"
      media="(prefers-color-scheme: dark)"/>
    <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'/>
    <script src="../_static/documentation_options.js?v=9c9b61ad"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=f85f4cfb"></script>
    <script src="../_static/js/pdj.js"></script>

    <script type="module" src="../_static/js/dark-mode-toggle.js"></script>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" /> 
  </head>  <body class="wy-body-for-nav" role="document"> 

<section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

  <nav class="wy-nav-top" id="barra-mobile" role="navigation" aria-label="top navigation">
    <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
    <a href="#">App Relevamiento Barrial </a>
  </nav>

  <div class="wy-nav-content">
    <div class="fundo-claro">
    </div>
    <div class="fundo-escuro">
    </div>

    <div class="rst-content">
      <div role="navigation" aria-label="breadcrumbs navigation">
      </div>
      <div role="main" class="">

	<div id="content" class="hfeed entry-container hentry">
      	  <div id="dark-mode-toggle-container">
	    <dark-mode-toggle appearance="toggle" class="slider" dark="" light="">
	    </dark-mode-toggle>
	  </div>
  <h1>Código fuente para vista</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Vista</span>

<span class="sd">Este módulo define la interfaz gráfica de la aplicación utilizando Tkinter.</span>
<span class="sd">Contiene la clase Aplicacion, que administra la interacción con el usuario,</span>
<span class="sd">actualiza la vista (incluyendo un gráfico) y se comunica con el controlador.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">tkinter</span> <span class="k">as</span> <span class="nn">tk</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">ttk</span><span class="p">,</span> <span class="n">messagebox</span><span class="p">,</span> <span class="n">Label</span><span class="p">,</span> <span class="n">Frame</span><span class="p">,</span> <span class="n">Entry</span><span class="p">,</span> <span class="n">StringVar</span><span class="p">,</span> <span class="n">Button</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="n">E</span><span class="p">,</span> <span class="n">W</span>
<span class="kn">from</span> <span class="nn">controlador</span> <span class="kn">import</span> <span class="n">Controlador</span>
<span class="kn">from</span> <span class="nn">modelo</span> <span class="kn">import</span> <span class="n">Vivienda</span>
<span class="kn">from</span> <span class="nn">peewee</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_tkagg</span> <span class="kn">import</span> <span class="n">FigureCanvasTkAgg</span>

<div class="viewcode-block" id="validar_campos">
<a class="viewcode-back" href="../vista.html#vista.validar_campos">[documentos]</a>
<span class="k">def</span> <span class="nf">validar_campos</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Decorador para validar que los campos de entrada no estén vacíos.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">envoltorio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">nombre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">a_val</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">direccion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_val</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">educacion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_val</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">nombre</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">direccion</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">educacion</span><span class="p">:</span>
            <span class="n">messagebox</span><span class="o">.</span><span class="n">showerror</span><span class="p">(</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Todos los campos son obligatorios.&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">envoltorio</span></div>


<div class="viewcode-block" id="Aplicacion">
<a class="viewcode-back" href="../vista.html#vista.Aplicacion">[documentos]</a>
<span class="k">class</span> <span class="nc">Aplicacion</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Clase principal de la interfaz gráfica.</span>

<span class="sd">    Configura y administra la ventana principal, maneja eventos (alta, baja, modificación, consulta)</span>
<span class="sd">    y actualiza tanto el Treeview como el gráfico mostrado.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>
        <span class="c1">#Inicializa la interfaz gráfica y sus componentes.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controlador</span> <span class="o">=</span> <span class="n">Controlador</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controlador</span><span class="o">.</span><span class="n">agregar_observador</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id_modificar</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1">#Configuración de la ventana principal.</span>
        <span class="n">root</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;ORGANIZACIÓN DE LA COMUNIDAD - Gestor de gobierno popular&quot;</span><span class="p">)</span>
        <span class="n">root</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  
        <span class="n">root</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">root</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        
        <span class="c1">#Etiqueta de título.</span>
        <span class="n">titulo</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RELEVAMIENTO BARRIAL&quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;#253876&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;#fdc444&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Open Sans ExtraBold&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
        <span class="n">titulo</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">E</span><span class="o">+</span><span class="n">W</span><span class="p">)</span>

        <span class="c1">#Marco izquierdo para los campos de entrada y botones.</span>
        <span class="n">marco_izquierdo</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;#f5efe1&quot;</span><span class="p">)</span>
        <span class="n">marco_izquierdo</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">N</span><span class="o">+</span><span class="n">S</span><span class="o">+</span><span class="n">E</span><span class="o">+</span><span class="n">W</span><span class="p">)</span>
        <span class="n">marco_izquierdo</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1">#Marco para gráfico</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">marco_grafico</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">marco_grafico</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">N</span><span class="o">+</span><span class="n">S</span><span class="o">+</span><span class="n">E</span><span class="o">+</span><span class="n">W</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">marco_grafico</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">marco_grafico</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1">#Marco para datos (Treeview, ocupa la mitad inferior)</span>
        <span class="n">marco_datos</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;lightgrey&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">marco_datos</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">N</span><span class="o">+</span><span class="n">S</span><span class="o">+</span><span class="n">E</span><span class="o">+</span><span class="n">W</span><span class="p">)</span>
        <span class="n">marco_datos</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">marco_datos</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="c1">#Etiquetas para los campos de entrada.</span>
        <span class="n">nombre</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">marco_izquierdo</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Nombre y Apellido: &quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;#f5efe1&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;#000000&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Open Sans&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;italic&quot;</span><span class="p">))</span>
        <span class="n">nombre</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">W</span><span class="p">)</span>
        <span class="n">direcc</span><span class="o">=</span><span class="n">Label</span><span class="p">(</span><span class="n">marco_izquierdo</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Dirección Relevada: &quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;#f5efe1&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;#000000&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Open Sans&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;italic&quot;</span><span class="p">))</span>
        <span class="n">direcc</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">W</span><span class="p">)</span>
        <span class="n">educ</span><span class="o">=</span><span class="n">Label</span><span class="p">(</span><span class="n">marco_izquierdo</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Educación Alcanzada: &quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;#f5efe1&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;#000000&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Open Sans&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;italic&quot;</span><span class="p">))</span>
        <span class="n">educ</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">W</span><span class="p">)</span>

        <span class="c1">#Variables para entradas</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">a_val</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_val</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_val</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">(),</span> <span class="n">StringVar</span><span class="p">(),</span> <span class="n">StringVar</span><span class="p">()</span>

        <span class="c1">#Campos de entrada.</span>
        <span class="n">Entry</span><span class="p">(</span><span class="n">marco_izquierdo</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">a_val</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">W</span><span class="o">+</span><span class="n">E</span><span class="p">)</span>
        <span class="n">Entry</span><span class="p">(</span><span class="n">marco_izquierdo</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">b_val</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">W</span><span class="o">+</span><span class="n">E</span><span class="p">)</span>
        <span class="n">Entry</span><span class="p">(</span><span class="n">marco_izquierdo</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">c_val</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">W</span><span class="o">+</span><span class="n">E</span><span class="p">)</span>

        <span class="c1">#Botones</span>
        <span class="n">Button</span><span class="p">(</span><span class="n">marco_izquierdo</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Alta&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">alta</span><span class="p">(),</span>
               <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;#336699&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Open Sans ExtraBold&quot;</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">Button</span><span class="p">(</span><span class="n">marco_izquierdo</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Baja&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">borrar</span><span class="p">(),</span>
               <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;#336699&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Open Sans ExtraBold&quot;</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">Button</span><span class="p">(</span><span class="n">marco_izquierdo</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Modificar&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">modificar</span><span class="p">(),</span>
               <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;#336699&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Open Sans ExtraBold&quot;</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">Button</span><span class="p">(</span><span class="n">marco_izquierdo</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Consultar lista&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">consulta</span><span class="p">(),</span>
               <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;#336699&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Open Sans ExtraBold&quot;</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="c1">#Configuración del Treeview para mostrar los registros.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Treeview</span><span class="p">(</span><span class="n">marco_datos</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col3&quot;</span><span class="p">),</span> <span class="n">show</span><span class="o">=</span><span class="s2">&quot;headings&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">heading</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Id&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">heading</span><span class="p">(</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Nombre y apellido&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">heading</span><span class="p">(</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Dirección relevada&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">heading</span><span class="p">(</span><span class="s2">&quot;col3&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Educación alcanzada&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">N</span><span class="o">+</span><span class="n">S</span><span class="o">+</span><span class="n">E</span><span class="o">+</span><span class="n">W</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actualizar_vista</span><span class="p">()</span>

<div class="viewcode-block" id="Aplicacion.actualizar">
<a class="viewcode-back" href="../vista.html#vista.Aplicacion.actualizar">[documentos]</a>
    <span class="k">def</span> <span class="nf">actualizar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1">#Actualiza la vista en función del evento notificado.</span>
        <span class="k">if</span> <span class="n">evento</span> <span class="o">==</span> <span class="s2">&quot;alta&quot;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Notificación: Se realizó un alta.&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">evento</span> <span class="o">==</span> <span class="s2">&quot;baja&quot;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Notificación: Se realizó una baja.&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">evento</span> <span class="o">==</span> <span class="s2">&quot;modificacion&quot;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Notificación: Se realizó una modificación.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actualizar_vista</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actualizar_grafico</span><span class="p">()</span></div>


<div class="viewcode-block" id="Aplicacion.alta">
<a class="viewcode-back" href="../vista.html#vista.Aplicacion.alta">[documentos]</a>
    <span class="nd">@validar_campos</span>
    <span class="k">def</span> <span class="nf">alta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gestiona la operación de alta.</span>

<span class="sd">        Si se tiene un ID para modificar (self.id_modificar), se realiza una actualización;</span>
<span class="sd">        de lo contrario, se inserta un nuevo registro.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nombre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">a_val</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">direccion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_val</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">educacion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_val</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="c1">#Validación: El nombre debe contener solo letras y espacios.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$&quot;</span><span class="p">,</span> <span class="n">nombre</span><span class="p">):</span>
            <span class="n">messagebox</span><span class="o">.</span><span class="n">showerror</span><span class="p">(</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;El nombre solo puede contener letras y espacios.&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_modificar</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">controlador</span><span class="o">.</span><span class="n">realizar_modificacion</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_modificar</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">direccion</span><span class="p">,</span> <span class="n">educacion</span><span class="p">)</span>
                <span class="n">messagebox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s2">&quot;Modificación exitosa&quot;</span><span class="p">,</span> <span class="s2">&quot;El registro ha sido actualizado.&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">id_modificar</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">messagebox</span><span class="o">.</span><span class="n">showerror</span><span class="p">(</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;No se pudo modificar el registro: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">controlador</span><span class="o">.</span><span class="n">realizar_alta</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">direccion</span><span class="p">,</span> <span class="n">educacion</span><span class="p">)</span>
                <span class="n">messagebox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s2">&quot;Alta de vivienda&quot;</span><span class="p">,</span> <span class="s2">&quot;¡La vivienda fue cargada con éxito!&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">messagebox</span><span class="o">.</span><span class="n">showerror</span><span class="p">(</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;No se pudo guardar la vivienda: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">actualizar_vista</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actualizar_grafico</span><span class="p">()</span></div>


<div class="viewcode-block" id="Aplicacion.borrar">
<a class="viewcode-back" href="../vista.html#vista.Aplicacion.borrar">[documentos]</a>
    <span class="nd">@validar_campos</span>
    <span class="k">def</span> <span class="nf">borrar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gestiona la operación de baja.</span>

<span class="sd">        Elimina el registro seleccionado tanto de la base de datos como del Treeview.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">seleccion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">selection</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">seleccion</span><span class="p">:</span>
            <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">seleccion</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">vivienda_id</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor de vivienda_id: </span><span class="si">{</span><span class="n">vivienda_id</span><span class="si">}</span><span class="s2"> (tipo: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">vivienda_id</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">controlador</span><span class="o">.</span><span class="n">realizar_baja</span><span class="p">(</span><span class="n">vivienda_id</span><span class="p">)</span>
            <span class="n">messagebox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s2">&quot;Borrar vivienda&quot;</span><span class="p">,</span> <span class="s2">&quot;¡La vivienda fue borrada con éxito!&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">actualizar_vista</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">actualizar_grafico</span><span class="p">()</span></div>



<div class="viewcode-block" id="Aplicacion.modificar">
<a class="viewcode-back" href="../vista.html#vista.Aplicacion.modificar">[documentos]</a>
    <span class="nd">@validar_campos</span>
    <span class="k">def</span> <span class="nf">modificar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gestiona el proceso de modificación.</span>

<span class="sd">        Carga los datos del registro seleccionado en los campos de entrada para que el usuario</span>
<span class="sd">        pueda editar y luego actualizar el registro.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">seleccion_item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">selection</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">seleccion_item</span><span class="p">:</span>
            <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">seleccion_item</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id_modificar</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;values&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">nombre</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;values&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">direccion</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;values&#39;</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">educacion</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;values&#39;</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>
            <span class="c1">#Cargamos los datos en los campos de entrada para editar</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">a_val</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">nombre</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">b_val</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">direccion</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">c_val</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">educacion</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Modificar: ID=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id_modificar</span><span class="si">}</span><span class="s2">, Nombre=</span><span class="si">{</span><span class="n">nombre</span><span class="si">}</span><span class="s2">, Dirección=</span><span class="si">{</span><span class="n">direccion</span><span class="si">}</span><span class="s2">, Educación=</span><span class="si">{</span><span class="n">educacion</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">messagebox</span><span class="o">.</span><span class="n">showerror</span><span class="p">(</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;Seleccione un registro para modificar.&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Aplicacion.consulta">
<a class="viewcode-back" href="../vista.html#vista.Aplicacion.consulta">[documentos]</a>
    <span class="k">def</span> <span class="nf">consulta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gestiona la consulta de registros.</span>

<span class="sd">        Recupera los datos de la base de datos y actualiza tanto el Treeview como el gráfico.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controlador</span><span class="o">.</span><span class="n">realizar_consulta</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actualizar_vista</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actualizar_grafico</span><span class="p">()</span></div>



<div class="viewcode-block" id="Aplicacion.actualizar_grafico">
<a class="viewcode-back" href="../vista.html#vista.Aplicacion.actualizar_grafico">[documentos]</a>
    <span class="k">def</span> <span class="nf">actualizar_grafico</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Actualiza el gráfico mostrado en la interfaz.</span>

<span class="sd">        Crea un gráfico de barras que representa los niveles educativos de los registros.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">#Limpia cualquier contenido previo en el marco</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">marco_grafico</span><span class="o">.</span><span class="n">winfo_children</span><span class="p">():</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="n">educacion_contadores</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;PI&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span><span class="s1">&#39;PC&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>  <span class="s1">&#39;SI&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;SC&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;TI&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;TC&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;UI&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;UC&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
        <span class="n">viviendas</span> <span class="o">=</span> <span class="n">Vivienda</span><span class="o">.</span><span class="n">select</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">vivienda</span> <span class="ow">in</span> <span class="n">viviendas</span><span class="p">:</span>
            <span class="n">educacion</span> <span class="o">=</span> <span class="n">vivienda</span><span class="o">.</span><span class="n">educacion</span>
            <span class="k">if</span> <span class="n">educacion</span> <span class="ow">in</span> <span class="n">educacion_contadores</span><span class="p">:</span>
                <span class="n">educacion_contadores</span><span class="p">[</span><span class="n">educacion</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1">#Prepara los datos para el gráfico</span>
        <span class="n">categorias</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">educacion_contadores</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">conteos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">educacion_contadores</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

        <span class="c1">#Se crea el gráfico de barras</span>
        <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">categorias</span><span class="p">,</span> <span class="n">conteos</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">)</span>

        <span class="c1">#Añado el título y las etiquetas</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;TRAYECTORIA EDUCATIVA RELEVADA&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Nivel de Educación&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Cantidad de Personas Relevadas&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

        <span class="c1">#Se convierte el gráfico a formato que Tkinter</span>
        <span class="n">canvas</span> <span class="o">=</span> <span class="n">FigureCanvasTkAgg</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">marco_grafico</span><span class="p">)</span>
        <span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        <span class="n">canvas</span><span class="o">.</span><span class="n">get_tk_widget</span><span class="p">()</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">N</span><span class="o">+</span><span class="n">S</span><span class="o">+</span><span class="n">E</span><span class="o">+</span><span class="n">W</span><span class="p">)</span></div>


<div class="viewcode-block" id="Aplicacion.actualizar_vista">
<a class="viewcode-back" href="../vista.html#vista.Aplicacion.actualizar_vista">[documentos]</a>
    <span class="k">def</span> <span class="nf">actualizar_vista</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Actualiza el Treeview con los registros actuales de la base de datos.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">get_children</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="n">viviendas</span> <span class="o">=</span> <span class="n">Vivienda</span><span class="o">.</span><span class="n">select</span><span class="p">()</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">Vivienda</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">viviendas</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">vivienda</span> <span class="ow">in</span> <span class="n">viviendas</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">END</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">vivienda</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">(</span><span class="n">vivienda</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">vivienda</span><span class="o">.</span><span class="n">nombre</span><span class="p">,</span> <span class="n">vivienda</span><span class="o">.</span><span class="n">direccion</span><span class="p">,</span> <span class="n">vivienda</span><span class="o">.</span><span class="n">educacion</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No se encontraron registros para mostrar.&quot;</span><span class="p">)</span></div>
</div>

</pre></div>

	</div>
      </div>

      
      <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
      &copy; Copyright 2025, Azcuy Nicolás.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/jucacrispim/sphinx_pdj_theme">theme</a> provided by <a href="https://poraodojuca.dev">Porão do Juca</a>.

</footer>
      

      <div class="clearer"></div>
    </div>
  </div>

</section>

<nav data-toggle="wy-nav-shift" class="wy-nav-side">
  <div class="wy-side-nav-search">
    
    <a href="../index.html" class="fa fa-home"> App Relevamiento Barrial </a>
    
    
    <div role="search">
      
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Búsqueda" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      
    </div>
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      
      
	  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">AppRelevamientoPython</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../controlador.html">controlador module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../main.html">Modulo «main.py»</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modelo.html">modelo module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../observador.html">Módulo «observador.py»</a></li>
<li class="toctree-l2"><a class="reference internal" href="../servidor.html">servidor.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vista.html">vista.py</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../main.html">Modulo «main.py»</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modelo.html">modelo module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../modelo.html#modelo.Abmc"><code class="docutils literal notranslate"><span class="pre">Abmc</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../modelo.html#modelo.Conexion_de_BD"><code class="docutils literal notranslate"><span class="pre">Conexion_de_BD</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../modelo.html#modelo.Vivienda"><code class="docutils literal notranslate"><span class="pre">Vivienda</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../vista.html">vista.py</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../vista.html#vista.Aplicacion"><code class="docutils literal notranslate"><span class="pre">Aplicacion</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../vista.html#vista.validar_campos"><code class="docutils literal notranslate"><span class="pre">validar_campos()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../controlador.html">controlador module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../controlador.html#controlador.Controlador"><code class="docutils literal notranslate"><span class="pre">Controlador</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../observador.html">Módulo «observador.py»</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../observador.html#observador.Observador"><code class="docutils literal notranslate"><span class="pre">Observador</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../observador.html#codigo-fuente">Código fuente:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../servidor.html">servidor.py</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../servidor.html#servidor.iniciar_servidor"><code class="docutils literal notranslate"><span class="pre">iniciar_servidor()</span></code></a></li>
</ul>
</li>
</ul>

      
    

  </div>
  &nbsp;
</nav>

  </body>
</html>